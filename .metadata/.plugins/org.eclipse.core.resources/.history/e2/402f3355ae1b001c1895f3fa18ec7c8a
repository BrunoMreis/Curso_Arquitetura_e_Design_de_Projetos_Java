package br.com.alura.pedido;

import java.math.BigDecimal;
import java.time.LocalDate;

import br.com.alura.orcamento.Orcamento;
import br.com.alura.pedido.acao.EnviandoEmailPedido;

public class GeraPedido {
	
	
	private String cliente;
	private BigDecimal valorOrcamento;
	private int quantidade;


	
	
	public GeraPedido(String cliente, BigDecimal valorOrcamento, int quantidade) {
		super();
		this.cliente = cliente;
		this.valorOrcamento = valorOrcamento;
		this.quantidade = quantidade;
	}


	public void execulta() {
		Orcamento orcamento = new Orcamento(this.valorOrcamento,this.quantidade);
		
		Pedido pedido = new Pedido(this.cliente, LocalDate.now(), orcamento);
		
		EnviandoEmailPedido email = new EnviandoEmailPedido();
		SalvarPedidoNoBancoDeDados salvar = new SalvarPedidoNoBancoDeDados();
		
		
		email.execultar(pedido);
		salvar.execultar(pedido);
	}

}
